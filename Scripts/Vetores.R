######################################################################################################################################################
######################################################################################################################################################

#VETORES

######################################################################################################################################################
######################################################################################################################################################

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////  
#CRIAÇÃO DE VETORES

#Tudo no R é um vetor, até mesmo simples variáveis
  
  vetor1 <- 3
 
#----------------------------------------------------------------------------------------------------------------------------------------------------- 
#Verificando se um objeto é um vetor
  
  is.vector(vetor1)
  
  is.vector(90)
  
  is.vector(TRUE)
  
  is.vector("Olá, meu nobre!")

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Criação de vetor por concatenação de elementos com a função combine c()

  vetor2 <- c(1, 2, 3)
  
  is.vector(vetor2)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Criação de vetores a partir de valores repetidos
#Podemos repetir um valor
  
  vetor3 <- rep(1, 5)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Ou mais valores
  
  vetor3 <- c(rep("homem", 3), rep("mulher", 5))
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Ou repetir vetores inteiros
  
  vetor4 <- c(1, 2, 3)
  
  vetor5 <- c(-1,-2,-3)
  
  vetor6 <- c(0, 4, 9)
  
  vetor7 <- c(rep(vetor4, 3), rep(vetor5, 5), rep(vetor6, 2))
  
  length(vetor7)

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#COERÇÃO  
  
#Coerção é o processo de converter tipos de dados para manter a homegeneidade de estruturas de dados homogêneas
#A corção segue a seguinte hierarquia: character > complex > numeric > integer > logical 
  
  vetor8 <- c("a", 2.2, 3L, TRUE)
  
  typeof(vetor8)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------  
  
  vetor8 <- c(2.2, 3L, TRUE) 
  
  typeof(vetor8)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------  
  
  vetor8 <- c(3L, TRUE)  
  
  typeof(vetor8)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Outros exemplos de coerção
#Prevalência do character
  
  vetorChar <- c("a", 3+2i, 4.4, 2L, FALSE)
  
  typeof(vetorChar[1])
  typeof(vetorChar[2])
  typeof(vetorChar[3])
  typeof(vetorChar[4])
  typeof(vetorChar[5])
  
  vetorChar[1]
  vetorChar[2]
  vetorChar[3]
  vetorChar[4]
  vetorChar[5]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Prevalência do complexo
  
  vetorComplex <- c(3+2i, 4.4, 2L, FALSE)
  
  typeof(vetorComplex[1])
  typeofe(vetorComplex[2])
  typeof(vetorComplex[3])
  typeof(vetorComplex[4])
  
  vetorComplex[1]
  vetorComplex[2]
  vetorComplex[3]
  vetorComplex[4]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Prevalência do numeric
  
  vetorNum <- c(4.4, 2L, FALSE)
  
  typeof(vetorNum[1])
  typeof(vetorNum[2])
  typeof(vetorNum[3])
  
  vetorNum[1]
  vetorNum[2]
  vetorNum[3]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Prevalência do integer
  
  vetorInt <- c(2L, FALSE)
  
  typeof(vetorInt[1])
  typeof(vetorInt[2])
  
  vetorInt[1]
  vetorInt[2]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Prevalência do logic
  
  vetorLog <- c(FALSE)
  
  typeof(vetorLog[1])
  
  vetorLog[1]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#NOMEANDO POSIÇÕES DOS VETORES
  
  vetor9 <- c(4, 3, 1)
  
#Criando nomes para o vetor
  
  nomesvetor9 <- c("casas", "carros", "motos")
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Atribuição dos nomes
  
  names(vetor9) <- nomesvetor9
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Se adicionarmos mais um valor, os nome da nova casa do vetor fica NA
  
  vetor9[4] <- 5
 
#----------------------------------------------------------------------------------------------------------------------------------------------------- 
#Corrigimos adicionando um novo nome
  
  nomesvetor9[4] <- "tipo"  

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Menos nomes do que casas faz com que as casas restantes do vetor fiquem nomeadas como NA
  
  x <- c(2, 5, 7, 5, 7, 7)
  
  y <- c("asa", "cauda", "bico")
  
  names(x) <- y

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Mais nomes do que casas não são permitidos
  
  x <- c(2, 5, 7)
  
  y <- c("asa", "cauda", "bico", "penas", "olhos")
  
  names(x) <- y
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#COMPOSIÇÃO DE VETORES
  
#Concatenando dois ou mais vetores
  
  vetor1 <- c(-1, 2, -7, 11)
  
  vetor2 <- c(8, 4, 4, -3, 15, 15, 33, -77)
  
  vetor3 <- c(vetor1, vetor2)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Ou diretamente:
  
  vetor3 <- c(c(-1, 2, -7, 11), c(8, 4, 4, -3, 15, 15, 33, -77))

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Concatenando vetores e valores
  
  vetor3 <- c(0, 1, 0, 3, c(-1, -2, -9))  
  
  sort(vetor3)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#INDEXAÇÃO DE VETORES

#Indexação por posição 
#O indexador [] retorna o valor da posição e [[]] retorna a estrutura da posição (Isto será mais útil em listas)

  vetor4 <- c(4, 5, -1, 0, 7)
  
  vetor4[3]
  
  vetor4[[3]]

#Perceba que no vetor criado a partir da concatenação de outro vetor com alguns valores, a ordem é mantida como definida
    
  vetor3[5]
  
  vetor3[[6]]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Indexação por variável
  
  x <- 2
  
  vetor4[x]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Indexação por vetor de posições
  
  indices <- c(1, 3, 5)
  
  vetor4[indices]

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Indexação por sequência
#Ordem direta
  
  vetor4[1:3]
  
#Ordem inversa
  
  vetor4[3:1]

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Indexação por nome (Uma vez que o vetor tenha sido nomeado, é claro)
  
  vetor5 <- c(2, 1, 5)
  
  nomesvetor5 <- c("carros", "motos", "bicicletas")
  
  names(vetor5) <- nomesvetor5
  
  vetor5["motos"]
  
  vetor5[c("carros", "bicicletas")]

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Por filtro lógico  
#Através de Vetor lógico
  
  vetor6 <- c(2, 8, 3, 1, -1)
  
  selecao <- c(TRUE, FALSE, FALSE, TRUE, TRUE)
  
  vetor6[selecao]
  
#Diretamente
  
  vetor6[c(TRUE, FALSE, FALSE, TRUE, TRUE)] 
 
#----------------------------------------------------------------------------------------------------------------------------------------------------- 
#Por operadores relacionais
  
  vetor6 > 2
  
  vetor6[vetor6 > 2]
  
#O R reconhece sequência entre as letras
  
  vetor6 <- c(LETTERS, letters)
  
  vetor6[vetor6 > 'g']
  
#Para entendermos o resultdo acima, vejamos:
  
  sort(vetor6)

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Retornando índices de um vetor obedecendo a um critério
  
  vetor7 <- c(-1, -4, 3, 4, 9, 7, 99, -15)
  
  which(vetor7 > 7)
  
#Retornando o índice do valor mínimo
  
  which.min(vetor7)
  
#Retornando o índice do valor máximo
  
  which.max(vetor7)

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ALTERANDO VALORES DOS VETORES
  
#Um só valor
  
  vetor8 <- c(1, 1, 2, 4, 7, 9)
  
  vetor8[1] <- 0
 
#----------------------------------------------------------------------------------------------------------------------------------------------------- 
#Vários valores
  
  vetor8[c(1, 2, 3)] <- c(-1, -1, -1)

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Excluindo valores da análise
#Através de valores negativos
  
  vetor8[c(-1, -3)]
  
  vetor8[-c(1, 3)]
  
  vetor8[-1*c(1, 3)]

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Através de vetor de valores lógicos
  
  vetor8[c(FALSE, TRUE, FALSE, TRUE, TRUE, TRUE)]

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Através de sequências negativas crescentes e decrescentes
#Como estão sendo excluídos e só os valores não excluídos serão exibidos, a ordem não importa
  
  vetor8[-2:-5]
  
  vetor8[-5:-2]

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Remoção de valores por nome com sinal negativo não funciona
  
  vetor8[-"João"]
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ORDENANDO VALORES DE UM VETOR
  
#Na ordem crescente
  
  vetor9 <- c(5, 3, -1, -3, 5, 5, 7, -99)
  
  sort(vetor9)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Também vale para letras
  
  sort(c("H", "z", "a", "t", "b", "k", "Z"))
  
#Ou na ordem decrescente  
  
  sort(vetor9, decreasing = TRUE)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#A função order() dá a ordem de cada elemento do vetor ordenado no vetor original
  
  order(vetor9)
  
#Dar a ordem de cada elemento do vetor ordenado no vetor original em ordem inversa
  
  order(vetor9, decreasing = TRUE)

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#A função rank() dá a ordem que cada elemento do vetor original no vetor ordenado
  
  vetor9 <- c(11, 2, 2, 2, -3, 4, 5.5, 6)
  
  rank(vetor9)
  
#Os 'ties' valores repetidos podem ter o seguinte tratamento:
#Os três valores 2 quando ordenados estariam nas posições 2, 3 e 4 cuja média é 3. Assim, eles serão ordenados como tendo a sua posição média, 3.
  
  rank(vetor9, ties.method = "average")
  
#No caso de a média ter valor quebrado, também funciona:
  
  vetor1 <- c(11, 2, 2, 2, 2, -3, 4, 5.5, 6)
  
  rank(vetor1, ties.method = "average")
  
#Podemos atribuir aos 'ties' o índice da sua primeira posição
  
  rank(vetor9, ties.method = "first")
  
#Ou podemos atribuir aos 'ties' o índice da sua última posição
  
  rank(vetor9, ties.method = "last")
  
#Para organizar os 'ties' com índices randômicos (não qualquer valor, mas entre si)
  
  rank(vetor9, ties.method = "random")
  
#Os índices dos 'ties' podem também ter o valor de sua posição máxima
  
  rank(vetor9, ties.method = "max")
  
#Ou de sua posição mínima
  
  rank(vetor9, ties.method = "min")

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Exibir os valores do vetor em ordem inversa
#Não é ordenar o vetor na ordem inversa, mas sim reverter a ordem sem ordenar
#Exibe do último para o primeiro mantendo a posição relativa
  
  rev(vetor9)

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#OPERAçÕES COM VETORES
  
#As operações com constantes são feitas termo a termo como se a constante fosse um vetor com todos os valores iguais à constante
  
  vetor1 <- c(2, 3, 4, 4)
  
  vetor2 <- c(1, 2, 2, 3)

  vetor1 + 10
  
  vetor1 + c(10, 10, 10, 10)
  
#Com outras operações ocorre o mesmo:

  vetor1 * 10

  vetor1 ^ 2
  
#Com a aplicação de funções, também:

  sqrt(vetor1)
  
  cos(vetor1)

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Não só constantes numéricas operam com os elemntos dos vetores termo a termo:
#criando um vetor
  
  amostras <- c(10, 25, 27, 17, 19)
  
#nomeando os elementos 
  
  names(amostras) <- paste("Amostra", 1:length(amostras), sep = "_")

#-----------------------------------------------------------------------------------------------------------------------------------------------------  
#Operações aritméticas
#Soma
  
  vetor3 = vetor1 + vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Subtração
  
  vetor3 = vetor1 - vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Multiplicação
  
  vetor3 = vetor1 * vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Divisão
  
  vetor3 = vetor1 / vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Potenciação
  
  vetor3 = vetor1 ^ vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Obtenção do resto
  
  vetor3 = vetor1 %% vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#obtenção do quociente inteiro
  
  vetor3 = vetor1 %/% vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Expressão qualquer
  
  vetor3 = vetor1^2 + 2*vetor2

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#OPERAÇÕES ENTRE VETORES DE TAMANHOS DIFERENTES
  
#Se a dimensão dos vetores forem múltiplos, funciona
  
  vetor4 <- c(1, 2, 3, 4, 5, 8)

  vetor5 <- c(3, 5)

  vetor6 = vetor4 * vetor5
  
  vetor6 = vetor4 / vetor5
  
  vetor6 = vetor4 - vetor5

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Se a dimensão dos vetores não forem múltiplos, não funciona
  
  vetor4 <- c(1, 2, 3) 
  
  vetor5 <- c(-1, 3)
  
  vetor6 = vetor4 * vetor5

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#TAMANHO E AMPLITUDE DO VETOR
  
#saber o tamanho do vetor
  
  length(vetor6)

#----------------------------------------------------------------------------------------------------------------------------------------------------- 
#Amplitude (valor mínimo e máximo, respectivamente)
  
  range(vetor6)

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#EXPANDINDO VETOR
  
#Adicionando valor em posição seguinte do vetor
  
  vetor6[4] <- 1999

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Adicionando valores em posições distantes do vetor (NA's são introduzidos)
  
  vetor6[10] <- 77

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#ESVAZIAR UM VETOR
  
#Mas mantê-lo existindo
  
  vetor6 <- NULL
  

  
  
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------