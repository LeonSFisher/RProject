######################################################################################################################################################
######################################################################################################################################################

#FAMÍLIA APPLY() - lapply()

######################################################################################################################################################
######################################################################################################################################################

#-----------------------------------------------------------------------------------------------------------------------------------------------------
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#lapply()

#Recebe uma lista OU VETOR E DEVOLVE UMA LISTA. O 'l' no início significa lista. lapply() não precisa de parâmetro 'margin' pois a função é aplicada
#por elemnto em listas e por colunas em dataframes.

#Aplicando a um vetor

  vetor <- c(1, 1, 3, 5, 6)
  
#Aplicando a função raiz quadarada
  
  lapply(vetor, FUN = sqrt)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Aplicando a uma lista
  
#Obviamente, a operação deve fazer sentido e caso a nossa lista possua letras, não podemos realizar cálculos com ela.
  
  lista <- list("a", TRUE, 9, 16)
  
  lapply(lista, FUN = sqrt)
  
#Mas, se for apenas numérica, isso será possível. Perceba que TRUE equivale a 1
  
  lista <- list(100, 25, TRUE, 9, 16)
  
  lapply(lista, FUN = sqrt)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Aplicando a uma matriz
  
#Os elementos da matriz são
  
  filmes <- matrix(c("CASA COMIGO","ALIEN","TROPA DE ELITE", "CRISTINE"), nrow = 2)
  
  lapply(filmes, tolower)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------
#Aplicando agora a um dataframe
  
#Criando um dataframe de exemplo
  
  tabela <- data.frame(a = 1:3, b = 4:6, c = 7:9, d = 10:12)

#Aplicando a raiz quadrada. Cria-se uma lista onde cada elemento da lista é um vetor correspondente a cada coluna do dataframe com a função aplicada.
  
  lapply(tabela, sqrt)
  
#-----------------------------------------------------------------------------------------------------------------------------------------------------